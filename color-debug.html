<!DOCTYPE html>
<html lang="pl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Color Debug Test</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            background: white;
        }

        .test-button {
            margin: 10px;
            padding: 8px 16px;
            border-radius: 8px;
            display: inline-block;
            font-weight: 600;
            text-align: center;
        }

        .section {
            margin: 20px 0;
            padding: 15px;
            border: 1px solid #ccc;
            border-radius: 8px;
        }
    </style>
</head>

<body>
    <h1>Color Debug Test</h1>

    <div class="section">
        <h2>1. Direct Function Test</h2>
        <div id="functionTest"></div>
    </div>

    <div class="section">
        <h2>2. Status Button Simulation</h2>
        <div id="buttonTest"></div>
    </div>

    <div class="section">
        <h2>3. Console Output</h2>
        <button onclick="runTests()">Run All Tests</button>
        <button onclick="testInlineStyles()">Test Inline Styles</button>
    </div>

    <script>
        // Copy the getStatusColors function
        function getStatusColors(status) {
            const normalizedStatus = (status || '').trim().toLowerCase();

            const colorMap = {
                'wysłano cv': 'background-color: #dbeafe; color: #1e40af; border: 2px solid #3b82f6;',
                'rozmowa telefoniczna': 'background-color: #dbeafe; color: #1e40af; border: 2px solid #3b82f6;',
                'rozmowa online': 'background-color: #dbeafe; color: #1e40af; border: 2px solid #3b82f6;',
                'rozmowa stacjonarna': 'background-color: #dbeafe; color: #1e40af; border: 2px solid #3b82f6;',
                'assessment center': 'background-color: #fce7f3; color: #be185d; border: 2px solid #ec4899;',
                'oferta': 'background-color: #dcfce7; color: #166534; border: 2px solid #22c55e;',
                'odrzucono': 'background-color: #f3f4f6; color: #374151; border: 2px solid #6b7280;'
            };

            if (colorMap[normalizedStatus]) {
                return colorMap[normalizedStatus];
            }

            if (normalizedStatus.includes('rozmowa')) {
                return 'background-color: #dbeafe; color: #1e40af; border: 2px solid #3b82f6;';
            } else if (normalizedStatus.includes('assessment')) {
                return 'background-color: #fce7f3; color: #be185d; border: 2px solid #ec4899;';
            } else if (normalizedStatus.includes('oferta')) {
                return 'background-color: #dcfce7; color: #166534; border: 2px solid #22c55e;';
            } else if (normalizedStatus.includes('odrzucono')) {
                return 'background-color: #f3f4f6; color: #374151; border: 2px solid #6b7280;';
            }

            return 'background-color: #f3f4f6; color: #374151; border: 2px solid #6b7280;';
        }

        function runTests() {
            console.log('=== COLOR FUNCTION TESTS ===');

            const testStatuses = [
                'Wysłano CV',
                'Rozmowa telefoniczna',
                'Rozmowa online',
                'Rozmowa stacjonarna',
                'Assessment Center',
                'Oferta',
                'Odrzucono'
            ];

            const functionTestDiv = document.getElementById('functionTest');
            functionTestDiv.innerHTML = '';

            testStatuses.forEach(status => {
                const colors = getStatusColors(status);
                console.log(`Status: "${status}" -> "${colors}"`);

                const div = document.createElement('div');
                div.className = 'test-button';
                div.textContent = status;
                div.style.cssText = colors;

                functionTestDiv.appendChild(div);
            });
        }

        function testInlineStyles() {
            console.log('=== INLINE STYLE TESTS ===');

            const buttonTestDiv = document.getElementById('buttonTest');
            buttonTestDiv.innerHTML = '';

            const testStatuses = [
                'Wysłano CV',
                'Rozmowa telefoniczna',
                'Assessment Center',
                'Oferta',
                'Odrzucono'
            ];

            testStatuses.forEach(status => {
                const button = document.createElement('button');
                button.textContent = status;
                button.className = 'flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-lg h-8 px-4 text-sm font-medium leading-normal w-full';

                const styles = getStatusColors(status);
                button.style.cssText = styles;

                console.log(`Button "${status}": style="${button.getAttribute('style')}"`);

                buttonTestDiv.appendChild(button);
            });
        }

        // Auto-run tests on load
        window.onload = function () {
            runTests();
            testInlineStyles();
        };
    </script>
</body>

</html>