<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quick Rozmowy Test</title>
    <script src="https://kit.fontawesome.com/5b8f4bb78b.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h1>Quick Rozmowy Functionality Test</h1>
    
    <div id="console" style="background: #000; color: #0f0; padding: 15px; margin: 20px 0; height: 200px; overflow-y: auto; font-family: monospace;"></div>
    
    <div id="statusCards" class="grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-4 mb-6"></div>
    
    <div id="currentFilter" style="margin: 20px 0; padding: 10px; background: #f0f0f0; border-radius: 5px;">
        Current Filter: <span id="filterValue">None</span>
    </div>

    <script>
        // Console override
        const originalLog = console.log;
        const consoleDiv = document.getElementById('console');
        
        console.log = function(...args) {
            originalLog.apply(console, args);
            const message = args.map(arg => typeof arg === 'object' ? JSON.stringify(arg) : String(arg)).join(' ');
            consoleDiv.innerHTML += `<div>${new Date().toLocaleTimeString()}: ${message}</div>`;
            consoleDiv.scrollTop = consoleDiv.scrollHeight;
        };

        // Mock applications data
        const testApplications = [
            { status: 'Wys≈Çano CV', archiwalna: false },
            { status: 'Rozmowa telefoniczna', archiwalna: false },
            { status: 'Rozmowa telefoniczna', archiwalna: false },
            { status: 'Rozmowa online', archiwalna: false },
            { status: 'Rozmowa stacjonarna', archiwalna: false },
            { status: 'Oferta', archiwalna: false },
            { status: 'Odrzucone', archiwalna: false }
        ];

        console.log('Quick test starting...');
        console.log('Test applications:', testApplications.length);
    </script>

    <script src="main.js"></script>

    <script>
        // Test after main.js loads
        setTimeout(() => {
            console.log('=== TESTING FUNCTIONS ===');
            console.log('filterByStatus available:', typeof window.filterByStatus);
            console.log('toggleCompositeCard available:', typeof window.toggleCompositeCard);
            console.log('generateStatusSummaryCards available:', typeof window.generateStatusSummaryCards);
            
            if (typeof window.generateStatusSummaryCards === 'function') {
                console.log('Generating cards with test data...');
                window.generateStatusSummaryCards(testApplications);
                
                // Test filtering after a short delay
                setTimeout(() => {
                    console.log('=== TESTING ROZMOWY FILTER ===');
                    if (typeof window.filterByStatus === 'function') {
                        console.log('Calling filterByStatus("Rozmowy")...');
                        window.filterByStatus('Rozmowy');
                        document.getElementById('filterValue').textContent = 'Rozmowy';
                    }
                }, 2000);
            }
        }, 500);

        // Monitor clicks on the page
        document.addEventListener('click', (e) => {
            console.log('Click detected on:', e.target.tagName, e.target.className, e.target.getAttribute('data-filter'));
        });
    </script>
</body>
</html>
